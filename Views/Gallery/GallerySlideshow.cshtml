@model List<GCUSMS.ViewModels.GalleryVM>


@{
    Layout = null;
}

@{
    ViewData["Title"] = "Gallery Slideshow";
}


<html>
<head>
    <title>GCU Gallery Slideshow</title>
    <link href="~/Test/css/style_test.css" rel="stylesheet" />
    <style>

        body {
            font-family: 'Kanit', Arial, sans-serif;
            margin: 0;
            font-size: 0;
            background: #000;
        }

        figure#slideshow 
        {
          width: 100%;
          margin: 0;
          position: relative;
          cursor: pointer;
        }

        figure#slideshow img {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 99vh;
            opacity: 0;
        }

        figure#slideshow img:first-child { position: relative; }

        #container:fullscreen 
        {
          display: flex;
          justify-content: center;
          align-items: center;
          background: #000;
        }

            #container:-moz-full-screen figure,
            #container:-ms-full-screen figure,
            #container:-webkit-fullscreen figure,
            #container:fullscreen figure {
                width: 100%;
                margin: 0;
                background: #000;
            }

        :-webkit-full-screen 
        {
          width: 100%; 
          height: 100%;
        }

        *:-moz-full-screen {
            background: #000;
        }

        *:-webkit-full-screen {
            background: #000;
        }
    </style>
    ## End Inline CSS
</head>
<body>

    <span class="info-box-text">@ViewBag.Number</span>
    <!-- click to bring the slideshow in and out of fullscreen mode -->
    <div>
        <figure id="container" onclick="fullScreen(this)">
            <figure id="slideshow">
                    @foreach (var Images in Model)
                    {
                        <img src="~/images/@Images.ImagePath" alt="Image">
                    }
            </figure>
        </figure>
    </div>


    <script>
        function cancelFullScreen() {
            if (document.cancelFullScreen) {
                document.cancelFullScreen();
            } else if (document.mozCancelFullScreen) {
                document.mozCancelFullScreen();
            } else if (document.webkitCancelFullScreen) {
                document.webkitCancelFullScreen();
            } else if (document.msCancelFullScreen) {
                document.msCancelFullScreen();
            }
            link = document.getElementById("container");
            link.removeAttribute("onclick");
            link.setAttribute("onclick", "fullScreen(this)");
        }

        function fullScreen(element) {
            if (element.requestFullScreen) {
                element.requestFullScreen();
            } else if (element.webkitRequestFullScreen) {
                element.webkitRequestFullScreen();
            } else if (element.mozRequestFullScreen) {
                element.mozRequestFullScreen();
            }
            link = document.getElementById("container");
            link.removeAttribute("onclick");
            link.setAttribute("onclick", "cancelFullScreen()");
        }

        window.onload = function () {
            imgs = document.getElementById('slideshow').children;
            interval = 8000;
            currentPic = 0;
            imgs[currentPic].style.webkitAnimation = 'fadey ' + interval + 'ms';
            imgs[currentPic].style.animation = 'fadey ' + interval + 'ms';
            var infiniteLoop = setInterval(function () {
                imgs[currentPic].removeAttribute('style');
                if (currentPic == imgs.length - 1) { currentPic = 0; } else { currentPic++; }
                imgs[currentPic].style.webkitAnimation = 'fadey ' + interval + 'ms';
                imgs[currentPic].style.animation = 'fadey ' + interval + 'ms';
            }, interval);
        }

    </script>
</body>
</html>